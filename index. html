<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…ÙˆÙ‚Ø¹ÙŠ Ø§Ù„Ø´Ø®ØµÙŠ</title>
    <!-- CodeMirror Ù„Ù„Ù…Ø­Ø±Ø± -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/javascript/javascript.min.js"></script>
    <style>
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            margin: 0; 
            padding: 20px; 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .container { 
            max-width: 1000px; 
            margin: 0 auto; 
            background: rgba(255,255,255,0.1); 
            padding: 30px; 
            border-radius: 15px; 
            backdrop-filter: blur(10px);
        }
        h1 { text-align: center; margin-bottom: 30px; }
        #editor { 
            height: 300px; 
            border: 2px solid rgba(255,255,255,0.3); 
            border-radius: 10px;
            margin-bottom: 20px;
        }
        .buttons { text-align: center; margin: 20px 0; }
        button { 
            margin: 0 10px; 
            padding: 12px 24px; 
            background: #4CAF50; 
            color: white; 
            border: none; 
            border-radius: 25px; 
            cursor: pointer; 
            font-size: 16px;
            transition: all 0.3s;
        }
        button:hover { background: #45a049; transform: translateY(-2px); }
        #output { 
            width: 100%; 
            height: 250px; 
            border: 2px solid rgba(255,255,255,0.3); 
            border-radius: 10px; 
            background: white;
        }
        #extra { 
            margin-top: 30px; 
            padding: 20px; 
            background: rgba(255,255,255,0.2); 
            border-radius: 10px;
        }
        #extra h2 { margin-top: 0; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¯ Ù…Ø­Ø±Ø± Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ø®Ø§Øµ Ø¨ÙŠ</h1>
           
        <textarea id="code">#editor</textarea>
           
        <div class="buttons">
            <button onclick="runCode()">â–¶ï¸ ØªØ´ØºÙŠÙ„ Ø§Ù„ÙƒÙˆØ¯</button>
            <button onclick="clearCode()">ğŸ—‘ï¸ Ù…Ø³Ø­</button>
            <button onclick="saveCode()">ğŸ’¾ Ø­ÙØ¸</button>
        </div>
           
        <iframe id="output" sandbox="allow-scripts"></iframe>
           
        <!-- Ù‚Ø³Ù… Ø§Ù„Ø£Ø´ÙŠØ§Ø¡ Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ© - ØºÙŠÙ‘Ø± Ù‡Ù†Ø§ ÙƒÙ…Ø§ ØªØ´Ø§Ø¡ -->
        <div id="extra">
            <h2>âœ¨ Ø§Ù„Ø£Ø´ÙŠØ§Ø¡ Ø§Ù„Ø®Ø§ØµØ© Ø¨ÙŠ</h2>
            <p>Ù…Ø±Ø­Ø¨Ø§Ù‹! Ù‡Ø°Ø§ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø®Ø§Øµ Ø¨ÙŠ. ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ø¥Ø¶Ø§ÙØ©:</p>
            <ul>
                <li>ğŸ“ Ù…Ù„Ø§Ø­Ø¸Ø§ØªÙŠ Ø§Ù„Ø´Ø®ØµÙŠØ©</li>
                <li>ğŸ’¡ Ø£ÙÙƒØ§Ø±ÙŠ ÙˆØ§Ù„Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„ØªÙŠ Ø£Ø¹Ù…Ù„ Ø¹Ù„ÙŠÙ‡Ø§</li>
                <li>ğŸ”— Ø±ÙˆØ§Ø¨Ø· Ù…ÙÙŠØ¯Ø©</li>
            </ul>
            <p><strong>ØªØ§Ø±ÙŠØ® Ø§Ù„ÙŠÙˆÙ…:</strong> <span id="date"></span></p>
        </div>
    </div>

    <script>
        // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…Ø­Ø±Ø±
        var editor = CodeMirror.fromTextArea(document.getElementById('code'), {
            value: '// Ù…Ø±Ø­Ø¨Ø§Ù‹! Ø§ÙƒØªØ¨ ÙƒÙˆØ¯ JavaScript Ù‡Ù†Ø§\n' +
                   'console.log("Ù‡Ø°Ø§ ÙƒÙˆØ¯ ØªØ¬Ø±ÙŠØ¨ÙŠ!");\n' +
                   'alert("Ø§Ù„ÙƒÙˆØ¯ ÙŠØ¹Ù…Ù„! ğŸ‰");',
            mode: 'javascript',
            lineNumbers: true,
            theme: 'default',
            indentUnit: 2,
            tabSize: 2
        });

        // Ø¹Ø±Ø¶ Ø§Ù„ØªØ§Ø±ÙŠØ®
        document.getElementById('date').textContent = new Date().toLocaleDateString('ar-SA');

        // ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù…Ø­Ø±Ø±
        function runCode() {
            var code = editor.getValue();
            var output = document.getElementById('output');
            output.srcdoc = `
                <!DOCTYPE html>
                <html><head><meta charset="UTF-8"></head>
                <body style="font-family: Arial; padding: 20px; background: #f0f0f0;">
                    <h3>ğŸ“¤ Ù†ØªÙŠØ¬Ø© Ø§Ù„ÙƒÙˆØ¯:</h3>
                    <div id="result"></div>
                    <script>
                        try {
                            ${code}
                            document.getElementById('result').innerHTML = '<p style="color: green;">âœ… Ø§Ù„ÙƒÙˆØ¯ Ù†ÙØ° Ø¨Ù†Ø¬Ø§Ø­!</p>';
                        } catch (error) {
                            document.getElementById('result').innerHTML = '<p style="color: red;">âŒ Ø®Ø·Ø£: ' + error.message + '</p>';
                        }
                    </script>
                </body></html>
            `;
        }

        function clearCode() {
            if (confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ù…Ø³Ø­ Ø§Ù„ÙƒÙˆØ¯ØŸ')) {
                editor.setValue('');
            }
        }

        function saveCode() {
            var code = editor.getValue();
            localStorage.setItem('mySavedCode', code);
            alert('ØªÙ… Ø­ÙØ¸ Ø§Ù„ÙƒÙˆØ¯! ğŸ’¾');
        }

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ù…Ø­ÙÙˆØ¸ Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„ØµÙØ­Ø©
        window.onload = function() {
            var saved = localStorage.getItem('mySavedCode');
            if (saved) {
                editor.setValue(saved);
            }
            // ØªØ´ØºÙŠÙ„ Ø§Ù„ÙƒÙˆØ¯ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
            setTimeout(runCode, 1000);
        };
    </script>
</body>
</html>
